# save_data_locally.R

################################################################################
# Load required packages.
################################################################################

require( tidyverse )                    # I live in the tidyverse.
require( readr )                        # We need the function read_csv().

################################################################################


################################################################################
# Load required functions.
################################################################################



save_data_locally <- 
    function( covid )
    {
        ########################################################################
        # We build the file name for the covid file.  It is the based on the
        # current date.
        ########################################################################
        
        fname    <- build_date_file_name( current_date )
        
        #######################################################################
        # We construct the file path and write the file to the data directory.
        #######################################################################
        
        fpath <- file.path( getwd(),
                            "data",
                            fname )
        
        
        #######################################################################
        # save the data locally.
        #######################################################################
        
        write.csv( covid, fpath, file=fpath )
        
        
        #######################################################################
        # Return data to invoking script.
        #######################################################################
        
        covid
    }
